<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Default Popup Title</title>
    <meta name="manifest.type" content="browser_action" />
  </head>
  <body class="max-w-[336px] w-[336px] bg-background">
    <div
      id="app"
      class="p-4 m-0 w-full place-items-center h-[480px] bg-background"
    >
      <div class="flex justify-between items-center w-full">
        <p
          class="text-xl text-content font-fira tracking-tight mt-[2px] select-none"
        >
          ctrlex
        </p>
        <!-- github -->
        <div class="flex gap-3">
          <a
            href="https://github.com/stonewukong/ctrlex"
            target="_blank"
            rel="noreferrer noopener"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke=""
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-github select-none stroke-content cursor-pointer"
            >
              <path
                d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
              />
              <path d="M9 18c-4.51 2-5-2-7-2" />
            </svg>
          </a>
        </div>
      </div>

      <!-- tabs -->
      <div class="flex mt-3 gap-1 w-full">
        <div
          id="extensions-tab"
          class="w-1/2 p-2 flex items-center bg-btn-border/50 hover:bg-btn-border/50 rounded-xl gap-2 justify-center text-sm text-center text-content cursor-pointer transition-colors duration-200"
        >
          <p>Extensions</p>
          <div
            class="bg-btn-border flex items-center justify-center px-3.5 py-3 w-6 h-6 rounded-full"
          >
            <p
              id="extensionsCount"
              class="text-tertiary text-xs select-none"
            ></p>
          </div>
        </div>
        <div
          id="modes-tab"
          class="w-1/2 p-2 bg-btn-border/15 rounded-xl text-content text-center text-sm hover:bg-btn-border/50 transition-colors duration-200 cursor-pointer"
        >
          Modes
        </div>
      </div>

      <!-- Extensions Content -->
      <div id="extensions-content" class="mt-3.5 w-full hidden">
        <div class="w-full max-h-full mt-1">
          <div class="flex justify-between gap-2">
            <input
              type="text"
              id="search-ex"
              placeholder="Search extensions..."
              class="px-3 py-2 text-sm text-content w-full bg-btn-bg rounded-xl border border-btn-border focus:outline-none focus:border-neutral-600"
            />
          </div>

          <div class="flex justify-between items-center mt-3.5">
            <!-- filter buttons -->
            <div>
              <button
                id="filter"
                class="px-3 py-1 text-xs text-content hover:bg-selected-btn/5 duration-300 transition-colors bg-selected-btn/10 rounded-xl"
              >
                All
              </button>
              <button
                id="filter"
                class="px-3 py-1 text-xs text-content hover:bg-selected-btn/10 duration-300 transition-colors bg-btn-bg rounded-xl"
              >
                Enabled
              </button>
              <button
                id="filter"
                class="px-3 py-1 text-xs text-content hover:bg-selected-btn/10 duration-300 transition-colors bg-btn-bg rounded-xl"
              >
                Disabled
              </button>
            </div>
            <div class="gap-1.5 inline-flex items-center">
              <div class="tooltip-container">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-info"
                >
                  <circle cx="12" cy="12" r="10" />
                  <path d="M12 16v-4" />
                  <path d="M12 8h.01" />
                </svg>
                <span class="tooltip">Switch On/Off Active Extensions</span>
              </div>

              <label class="cursor-pointer">
                <input id="toggle-all" type="checkbox" class="sr-only peer" />
                <div
                  class="relative w-9 h-5 bg-btn-bg rounded-full peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-red-600"
                ></div>
              </label>
            </div>
          </div>

          <div class="mt-3.5 h-full">
            <ul
              id="extensionsList"
              class="flex-col flex gap-2 overflow-y-auto scroll-smooth"
              style="max-height: 265px"
            ></ul>
          </div>
        </div>
      </div>

      <!-- Modes Content -->
      <div id="modes-content" class="mt-3.5 w-full">
        <div class="flex gap-1 h-full mb-4">
          <input
            type="text"
            id="mode-search"
            placeholder="Search modes..."
            class="w-full px-3 py-2 text-sm text-content bg-btn-bg rounded-xl border border-btn-border focus:outline-none focus:border-neutral-600"
          />
          <button
            id="add-mode-btn"
            class="px-3 py-2 text-sm text-content bg-selected-btn/30 rounded-xl hover:bg-selected-btn/20 transition-colors duration-200"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-plus"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
        </div>

        <div
          id="modes-list"
          class="grid grid-cols-1 gap-4 max-h-[350px] overflow-y-auto pr-2"
        >
          <!-- Existing and dynamically added modes will go here -->
        </div>

        <!-- Add/Edit Mode Modal -->
        <div
          id="mode-modal"
          class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"
        >
          <div class="bg-background p-6 rounded-xl w-80">
            <h2 id="modal-title" class="text-lg font-medium text-content mb-4">
              Add New Mode
            </h2>
            <input
              type="text"
              id="mode-name-input"
              placeholder="Mode Name"
              class="w-full px-3 py-2 mb-4 text-sm text-content bg-btn-bg rounded-xl border border-btn-border focus:outline-none focus:border-neutral-600"
            />
            <input
              type="text"
              id="mode-description-input"
              placeholder="Mode Description"
              class="w-full px-3 py-2 mb-4 text-sm text-content bg-btn-bg rounded-xl border border-btn-border focus:outline-none focus:border-neutral-600"
            />
            <div class="flex justify-end">
              <button
                id="cancel-modal"
                class="px-3 py-1 text-sm text-content bg-btn-bg rounded-xl hover:bg-btn-border/20 transition-colors duration-200 mr-2"
              >
                Cancel
              </button>
              <button
                id="save-mode"
                class="px-3 py-1 text-sm text-white bg-red-600 rounded-xl hover:bg-red-700 transition-colors duration-200"
              >
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>
